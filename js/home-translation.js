/**
 * Home Page Translation Script
 * Handles text content updates when language changes.
 */

(function () {
    const translations = {
        EN: {
            // Hero Slider
            hero_1_title: "Shaping Tomorrow, One Space at a Time",
            hero_1_subtitle: "Innovative Architecture",
            hero_1_text: "Step into architecture where light, structure, and imagination converge—creating places that inspire and endure.",

            hero_2_title: "Crafting Spaces That Inspire",
            hero_2_subtitle: "Built by Viseo",
            hero_2_text: "Discover architecture where creativity leads, living is reimagined, and every space is crafted with precision for the modern world.",

            hero_3_title: "Ideas Shaped for Real Life",
            hero_3_subtitle: "Thoughtful Architecture",
            hero_3_text: "Explore spaces designed around people—purposeful, elegant, and carefully detailed from concept to completion.",

            hero_4_title: "Purposeful Design",
            hero_4_subtitle: "Art in Structure",
            hero_4_text: "Where imagination becomes form, function becomes beauty, and every project leaves a signature.",

            btn_details: "Details",
            btn_read_more: "Read More",

            // About
            about_heading: "Design that Creates Value",
            about_title: "ABOUT",
            about_quote: "\"With a commitment to quality, we design spaces that respond to your goals and redefine what’s possible.\"",
            btn_see_more: "See More",

            // History/Mission (Tabs)
            tab_history: "History",
            tab_mission: "Mission",
            tab_vision: "Vision",
            history_content_1: "VISIO Architecture Ltd (VISIO) is a Mauritian multidisciplinary practice with roots dating back to 1981. During Mauritius’ post-Independence development years, the firm contributed to the country’s evolving built environment through public, institutional, commercial, and residential projects.",
            history_content_2: "Initially the practice (LSA) has been delivering a portfolio of landmark works across the island—including the Bank of Mauritius, Sir Seewoosagur Ramgoolam International Airport, the French Institute, high-rise developments in Port Louis, the Port Louis Theatre, and a wide range of housing projects from affordable to high-end.",
            history_content_3: "VISIO Architecture Ltd (VISIO) is a Mauritian multidisciplinary practice with roots dating back to 1981, contributing to Mauritius’ post-Independence development through public, institutional, commercial, and residential projects.",
            history_content_4: "As LSA, the practice delivered major landmarks including the Bank of Mauritius, SSR International Airport, the French Institute, high-rise developments in Port Louis, the Port Louis Theatre, and housing projects ranging from affordable to high-end.",
            history_content_5: "From 2013, the firm entered a renewal phase under the combined leadership of G. Siew and V. Chintaram, and in 2016 VISIO was officially established as the continuation of LSA. Today, VISIO continues to expand its footprint, positioning itself as a benchmark practice in Mauritius and a growing player across Africa, with expertise in complex sectors including airports, high-rise developments, specialised facilities, urban regeneration, and mobility strategies.",

            mission_content: "At VISIO, our mission is to design and deliver innovative, sustainable, and high-performing architectural, planning, and project management solutions that transform vision into reality. We collaborate closely with our clients—listening carefully, understanding priorities, and crafting spaces that inspire, function seamlessly, and endure. Through creative design, appropriate technology, and environmental stewardship, we aim to enhance the built environment, strengthen communities, and leave a lasting architectural legacy.",

            vision_content: "VISIO’s vision is to be a leading benchmark for architecture and planning in Mauritius, and to be recognised as one of the most significant multidisciplinary firms in Africa. We strive to shape modern environments through timeless, resilient design—where form and function work in harmony, communities are strengthened, and the natural context is respected. Guided by creativity, innovation, and disciplined delivery, we aim to elevate human experience and create meaningful connections between people and the places they inhabit.",

            // Services
            services_subheading: "Crafted by Design. Built to Last.",
            services_quote: "\"Architecture that endures.\"",
            services_title: "SERVICES",
            services_desc: "Thoughtful solutions—carefully planned, smartly designed, beautifully detailed, and managed end-to-end for lasting value.",
            btn_discover_services: "Discover our Services",

            // Works
            works_heading: "Beyond Architecture",
            works_title: "WORKS",
            works_quote: "\"Step into spaces designed as experiences—crafted with passion, grounded in context, and shaped by light, proportion, and place.\"",
            btn_see_works: "See our Works",

            // Project Slider (Coral)
            proj_1_title_1: "PORT LOUIS",
            proj_1_title_2: "OLD MARKET RENOVATION",

            proj_2_title_1: "INDUSTRIAL LOFTS AT SAINT ANTOINE",
            proj_2_title_2: "GOODLANDS",

            proj_3_title_1: "SIR GAETAN DUVAL",
            proj_3_title_2: "AIRPORT, RODRIGUES",

            proj_4_title_1: "VICTORIA WATERFRONT,",
            proj_4_title_2: "MAHE, SEYCHELLES",

            proj_5_title_1: "GOLF DE ROVA,",
            proj_5_title_2: "ANTANANARIVO",

            proj_6_title_1: "TOWER 88",
            proj_6_title_2: "PORT LOUIS",

            // News
            news_heading: "Building Better Places",
            news_quote: "\"Where design meets impact.\"",
            news_title: "NEWS",
            news_desc: "\"Latest updates on projects, perspectives, and trends—spotlighting innovation across architecture, planning, and urban development.\"",
            btn_discover_more: "Discover More",

            // Process
            process_heading: "Innovate with Purpose",
            process_quote: "\"Designing Beyond Boundaries\"",
            process_title: "PROCESS",
            process_desc: "\"Our process combines creative vision, technical rigour, and close collaboration—guiding each project from concept to completion with clarity and confidence.\"",
            btn_see_more_process: "See More",

            // Team
            team_title: "TEAM",
            btn_more_details: "More Details",
            team_intro: "VISIO team welcomes you—into a practice where vision is shaped with discipline, and imagination is carried through to buildable reality. Together, we craft spaces that speak to place, climate, and culture—designed with precision, delivered with purpose, and made to endure. VC",

            gaetan_role: "Honorary Chairman",
            gaetan_bio: "Gaëtan is an architect with over 40 years of practice, shaped by travel, culture, and cities worldwide. His long-standing contribution to Mauritius' built environment has helped define key landmarks. As Honorary Chairman, when consulted, he provides discreet, values-driven guidance—rooted in respect for place, people, and quality living.",

            vinesh_role: "Managing Partner / CEO",
            vinesh_bio: "Vinesh is an architect and urban planner trained in France and Germany. With over 20 years of practice and active engagements across Africa's five regions, he brings deep experience in driving VISIO's transformation and shaping its strategic direction—particularly in positioning the firm as a leading player in the African market.",


            // Footer
            contact_title_1: "CONTACT",
            contact_title_2: "US",
            address_label: "Address",
            address_val: "45, Saint Georges Street 11324 Port Louis, Mauritius",
            mail_label: "Mail Us",
            call_label: "Call Us",
            hours_label: "Working Hours",
            hours_val: "Monday - Friday : 8:00am - 5:00 pm",

            projects_title_1: "OUR",
            projects_title_2: "PROJECTS",
            link_all_projects: "All Projects",
            link_arch: "Architecture",
            link_urban: "Urban Planning & Master Planning",
            link_infra: "Infrastructure & Mobility",
            link_indus: "Industrial & Logistics",
            link_heritage: "Heritage & Adaptive Reuse",
            link_interior: "Interior Architecture",
            link_landscape: "Landscape & Public Realm",
            link_strategy: "Strategy & Feasibility",

            links_title: "LINKS",
            link_home: "Home",
            link_about: "About Us",
            link_services: "Services",
            link_africa: "Africa",
            link_rise: "RISE",
            link_social: "Social",
            link_projects: "Projects",
            link_news: "News",
            link_contact: "Contact",

            // Footer Mission/Vision
            footer_mission_title: "MISSION",
            footer_mission_content: "To deliver design excellence through innovation, technical rigour, and sustainable thinking—creating spaces and places that add long-term value for clients and communities.",
            footer_vision_title: "VISION",
            footer_vision_content: "To set the benchmark for architecture, planning, and development in Mauritius, and to be recognised among Africa's leading multidisciplinary firms."
        },
        FR: {
            // Hero Slider
            hero_1_title: "Façonner Demain, Un Espace à la Fois",
            hero_1_subtitle: "Architecture Innovante",
            hero_1_text: "Entrez dans une architecture où la lumière, la structure et l'imagination convergent—créant des lieux qui inspirent et perdurent.",

            hero_2_title: "Créer des Espaces qui Inspirent",
            hero_2_subtitle: "Construit par Viseo",
            hero_2_text: "Découvrez une architecture où la créativité mène, la vie est réimaginée, et chaque espace est conçu avec précision pour le monde moderne.",

            hero_3_title: "Des Idées Façonnées pour la Vie Réelle",
            hero_3_subtitle: "Architecture Réfléchie",
            hero_3_text: "Explorez des espaces conçus autour des gens—utiles, élégants et soigneusement détaillés du concept à la réalisation.",

            hero_4_title: "Design Utile",
            hero_4_subtitle: "L'Art dans la Structure",
            hero_4_text: "Où l'imagination prend forme, la fonction devient beauté, et chaque projet laisse une signature.",

            btn_details: "Détails",
            btn_read_more: "Lire la Suite",

            // About
            about_heading: "Un Design qui Crée de la Valeur",
            about_title: "À PROPOS",
            about_quote: "\"Avec un engagement envers la qualité, nous concevons des espaces qui répondent à vos objectifs et redéfinissent le possible.\"",
            btn_see_more: "Voir Plus",

            // History/Mission (Tabs)
            tab_history: "Histoire",
            tab_mission: "Mission",
            tab_vision: "Vision",
            history_content_1: "VISIO Architecture Ltd (VISIO) est un cabinet multidisciplinaire mauricien dont les racines remontent à 1981. Durant les années de développement post-indépendance de l'île Maurice, le cabinet a contribué à l'évolution de l'environnement bâti du pays à travers des projets publics, institutionnels, commerciaux et résidentiels.",
            history_content_2: "Initialement, le cabinet (LSA) a réalisé un portefeuille d'œuvres emblématiques à travers l'île—incluant la Banque de Maurice, l'Aéroport International Sir Seewoosagur Ramgoolam, l'Institut Français, des développements de grande hauteur à Port-Louis, le Théâtre de Port-Louis, et une large gamme de projets de logements, de l'abordable au haut de gamme.",
            history_content_3: "VISIO Architecture Ltd (VISIO) est un cabinet multidisciplinaire mauricien dont les racines remontent à 1981, contribuant au développement post-indépendance de l'île Maurice à travers des projets publics, institutionnels, commerciaux et résidentiels.",
            history_content_4: "En tant que LSA, le cabinet a livré des repères majeurs incluant la Banque de Maurice, l'Aéroport International SSR, l'Institut Français, des tours à Port-Louis, le Théâtre de Port-Louis, et des projets de logements allant de l'abordable au haut de gamme.",
            history_content_5: "À partir de 2013, le cabinet est entré dans une phase de renouveau sous la direction combinée de G. Siew et V. Chintaram, et en 2016 VISIO a été officiellement établi comme la continuation de LSA. Aujourd'hui, VISIO continue d'étendre son empreinte, se positionnant comme un cabinet de référence à Maurice et un acteur croissant à travers l'Afrique, avec une expertise dans des secteurs complexes incluant les aéroports, les tours, les installations spécialisées, la régénération urbaine et les stratégies de mobilité.",

            mission_content: "Chez VISIO, notre mission est de concevoir et livrer des solutions architecturales, de planification et de gestion de projet innovantes, durables et performantes qui transforment la vision en réalité. Nous collaborons étroitement avec nos clients—en écoutant attentivement, comprenant les priorités, et créant des espaces qui inspirent, fonctionnent parfaitement et perdurent. Par un design créatif, une technologie appropriée et une gestion environnementale, nous visons à améliorer l'environnement bâti, renforcer les communautés et laisser un héritage architectural durable.",

            vision_content: "La vision de VISIO est d'être une référence majeure pour l'architecture et la planification à Maurice, et d'être reconnu comme l'un des cabinets multidisciplinaires les plus significatifs en Afrique. Nous nous efforçons de façonner des environnements modernes par un design intemporel et résilient—où forme et fonction travaillent en harmonie, les communautés sont renforcées, et le contexte naturel est respecté. Guidés par la créativité, l'innovation et une exécution disciplinée, nous visons à élever l'expérience humaine et créer des liens significatifs entre les gens et les lieux qu'ils habitent.",

            // Services
            services_subheading: "Façonné par le Design. Construit pour Durer.",
            services_quote: "\"Une architecture qui perdure.\"",
            services_title: "SERVICES",
            services_desc: "Des solutions réfléchies—soigneusement planifiées, intelligemment conçues, magnifiquement détaillées et gérées de bout en bout pour une valeur durable.",
            btn_discover_services: "Découvrez nos Services",

            // Works
            works_heading: "Au-delà de l'Architecture",
            works_title: "PROJETS",
            works_quote: "\"Entrez dans des espaces conçus comme des expériences—créés avec passion, ancrés dans le contexte, et façonnés par la lumière, les proportions et le lieu.\"",
            btn_see_works: "Voir nos Projets",

            // Project Slider (Coral)
            proj_1_title_1: "PORT LOUIS",
            proj_1_title_2: "RÉNOVATION DU VIEUX MARCHÉ",

            proj_2_title_1: "INDUSTRIAL LOFTS À SAINT ANTOINE",
            proj_2_title_2: "GOODLANDS",

            proj_3_title_1: "AÉROPORT, SIR GAETAN DUVAL", // Swapped slightly for French syntax flow or keep same
            proj_3_title_2: "RODRIGUES",

            proj_4_title_1: "VICTORIA WATERFRONT,",
            proj_4_title_2: "MAHE, SEYCHELLES",

            proj_5_title_1: "GOLF DE ROVA,",
            proj_5_title_2: "ANTANANARIVO",

            proj_6_title_1: "TOWER 88",
            proj_6_title_2: "PORT LOUIS",

            // News
            news_heading: "Construire de Meilleurs lieux",
            news_quote: "\"Où le design rencontre l'impact.\"",
            news_title: "ACTUS", // NEWS -> ACTUALITÉS or ACTUS short
            news_desc: "\"Dernières mises à jour sur les projets, perspectives et tendances—mettant en lumière l'innovation à travers l'architecture, la planification et le développement urbain.\"",
            btn_discover_more: "En Savoir Plus",

            // Process
            process_heading: "Innover avec Intention",
            process_quote: "\"Concevoir Au-delà des Frontières\"",
            process_title: "PROCESSUS",
            process_desc: "\"Notre processus combine vision créative, rigueur technique et collaboration étroite—guidant chaque projet du concept à la réalisation avec clarté et confiance.\"",
            btn_see_more_process: "Voir Plus",

            // Team
            team_title: "ÉQUIPE",
            btn_more_details: "Plus de Détails",
            team_intro: "L'équipe VISIO vous accueille—dans une pratique où la vision est façonnée avec discipline, et l'imagination portée vers une réalité constructible. Ensemble, nous créons des espaces qui parlent au lieu, au climat et à la culture—conçus avec précision, livrés avec intention, et faits pour durer. VC",

            gaetan_role: "Président Honoraire",
            gaetan_bio: "Gaëtan est un architecte avec plus de 40 ans de pratique, façonné par les voyages, la culture et les villes du monde entier. Sa contribution de longue date à l'environnement bâti de Maurice a aidé à définir des repères clés. En tant que Président Honoraire, lorsqu'il est consulté, il apporte des conseils discrets et fondés sur des valeurs—ancrés dans le respect du lieu, des gens et de la qualité de vie.",

            vinesh_role: "Associé Gérant / PDG",
            vinesh_bio: "Vinesh est un architecte et urbaniste formé en France et en Allemagne. Avec plus de 20 ans de pratique et des engagements actifs à travers les cinq régions d'Afrique, il apporte une profonde expérience dans la conduite de la transformation de VISIO et le façonnement de sa direction stratégique—particulièrement en positionnant le cabinet comme un acteur majeur sur le marché africain.",


            // Footer
            contact_title_1: "NOUS",
            contact_title_2: "CONTACTER",
            address_label: "Adresse",
            address_val: "45, rue Saint Georges 11324 Port-Louis, Maurice",
            mail_label: "Écrivez-nous",
            call_label: "Appelez-nous",
            hours_label: "Heures d'Ouverture",
            hours_val: "Lundi - Vendredi : 8h00 - 17h00",

            projects_title_1: "NOS",
            projects_title_2: "PROJETS",
            link_all_projects: "Tous les Projets",
            link_arch: "Architecture",
            link_urban: "Urbanisme & Planification",
            link_infra: "Infrastructure & Mobilité",
            link_indus: "Industriel & Logistique",
            link_heritage: "Patrimoine & Réutilisation",
            link_interior: "Architecture d'Intérieur",
            link_landscape: "Paysage & Espace Public",
            link_strategy: "Stratégie & Faisabilité",

            links_title: "LIENS",
            link_home: "Accueil",
            link_about: "À Propos",
            link_services: "Services",
            link_africa: "Afrique",
            link_rise: "RISE",
            link_social: "Social",
            link_projects: "Projets",
            link_news: "Actualités",
            link_contact: "Contact",

            // Footer Mission/Vision
            footer_mission_title: "MISSION",
            footer_mission_content: "Offrir l'excellence en design par l'innovation, la rigueur technique et la pensée durable—créant des espaces et des lieux qui ajoutent une valeur à long terme pour les clients et les communautés.",
            footer_vision_title: "VISION",
            footer_vision_content: "Établir la référence en architecture, planification et développement à Maurice, et être reconnu parmi les principaux cabinets multidisciplinaires d'Afrique."
        }
    };

    function updatePageContent(lang) {
        const data = translations[lang];
        if (!data) return;

        // Find all elements with data-i18n attribute
        const elements = document.querySelectorAll('[data-i18n]');

        elements.forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (data[key]) {
                // Handle special cases or generic text update
                // Check if element has children that we want to preserve (like svg icons in buttons)
                // But for buttons, text is usually in a span or direct text node.

                // Strategy: if element has specific structure, specific handling might be needed.
                // For buttons like "Read More <icon>", usually text is in a span separate from icon?
                // Let's look at button structure in index.html:
                // <span class="qodef-m-text">Read More</span>
                // So targetting the span with data-i18n is better.

                // For simple text elements:
                if (el.children.length === 0) {
                    el.textContent = data[key];
                } else {
                    // If element has children (like <br> or spans not marked), we might replace innerHTML
                    // But checking the keys, most are plain text blocks.
                    // HTML content support:
                    el.innerHTML = data[key];
                }

                // Fix: Reduce font size for PROCESSUS in French to prevent overflow
                if (key === 'process_title') {
                    if (lang === 'FR') {
                        el.style.fontSize = '0.7em';
                    } else {
                        el.style.fontSize = '';
                    }
                }

                // Fix: Reduce font size for "More Details" button in Team section in French
                if (key === 'btn_more_details') {
                    if (lang === 'FR') {
                        el.style.fontSize = '0.8em';
                    } else {
                        el.style.fontSize = '';
                    }
                }
            }
        });

        // Special handling for split words in animated titles if needed
        // Example: CONTACT US -> NOUS CONTACTER
        // If we tagged the parent container, we might lose the spans.
        // Ideally we tag the spans.
        // But "CONTACT" -> "NOUS" and "US" -> "CONTACTER" (swapped order)
        // Simpler approach: Tag the PARENT of the title, and rewrite the innerHTML with new spans.
        const splitTitles = {
            'contact_title_group': {
                EN: '<span class="qodef-e-word">CONTACT</span> <span class="qodef-e-word">US</span>',
                FR: '<span class="qodef-e-word">NOUS</span> <span class="qodef-e-word">CONTACTER</span>'
            },
            'projects_title_group': {
                EN: '<span class="qodef-e-word">OUR</span> <span class="qodef-e-word">PROJECTS</span>',
                FR: '<span class="qodef-e-word">NOS</span> <span class="qodef-e-word">PROJETS</span>'
            },
            'mission_vision_title_group': {
                EN: '<span class="qodef-e-word">MISSION</span> <span class="qodef-e-word">&amp;</span> <span class="qodef-e-word">VISION</span>',
                FR: '<span class="qodef-e-word">MISSION</span> <span class="qodef-e-word">&amp;</span> <span class="qodef-e-word">VISION</span>'
            }
        };

        for (const [groupKey, values] of Object.entries(splitTitles)) {
            const container = document.querySelector(`[data-i18n-group="${groupKey}"]`);
            if (container && values[lang]) {
                // Find the h1 or main wrapper
                const titleEl = container.querySelector('.qodef-m-title') || container;
                titleEl.innerHTML = values[lang];
            }
        }
    }

    // Initial load
    document.addEventListener('DOMContentLoaded', () => {
        // Get language from storage using the existing global function if available or manual check
        const storedLang = localStorage.getItem('currentLanguage') || 'EN';
        if (storedLang === 'FR') {
            updatePageContent('FR');
        }
    });

    // Listen to event from language.js
    window.addEventListener('languageChanged', (e) => {
        updatePageContent(e.detail.language);
    });

    // Sticky Header Logic to ensure language switcher is accessible
    function handleStickyHeader() {
        const header = document.querySelector('.site-header');
        if (!header) return;

        if (window.scrollY > 50) {
            if (!header.classList.contains('clone')) {
                header.classList.add('clone');
                header.style.position = 'fixed';
                header.style.top = '0';
                header.style.left = '0';
                header.style.width = '100%';
                header.style.zIndex = '100000';
                // Optional: add a slide-down animation
                header.style.transition = 'background 0.3s ease';
            }
        } else {
            if (header.classList.contains('clone')) {
                header.classList.remove('clone');
                header.style.position = '';
                header.style.top = '';
                header.style.left = '';
                header.style.width = '';
                header.style.zIndex = '';
            }
        }
    }

    window.addEventListener('scroll', handleStickyHeader);
    document.addEventListener('DOMContentLoaded', handleStickyHeader);

})();
