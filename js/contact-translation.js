const translations = {
    'EN': {
        // Nav
        'nav_home': 'Home',
        'nav_africa': 'Africa',
        'nav_projects': 'Projects',
        'nav_services': 'Services',
        'nav_rise': 'RISE',
        'nav_social': 'Social',
        'nav_about_us': 'About Us',
        'nav_news': 'News',
        'nav_contact': 'Contact',
        'nav_language_label': 'Language:',

        // Header
        'contact_subtitle': 'CONTACT',
        'contact_title': 'Ready to build something great? Let’s talk.',
        'contact_description': 'Feel free to reach out to VISIO for enquiries, project collaborations, or design consultations. Our team is here to guide you and help bring your vision to life. <strong>Get in touch today—let’s shape thoughtful, high-performing spaces together.</strong>',

        // Info
        'contact_phone_label': '+ (230) 208 9394',
        'contact_email_label': 'contact@visio.mu',
        'contact_address_label': '45, Saint Georges Street, 11324, Port Louis, Rep. of Mauritius',
        'contact_hours_label': 'We open at <strong>08:00 - 17:00 to Monday to Friday </strong><strong>(Excluding Public Holidays)</strong>.',

        // Form
        'contact_form_name': 'Name',
        'contact_form_email': 'Email Address',
        'contact_form_phone': 'Phone Number',
        'contact_form_terms': '<input type="checkbox" id="terms-checkbox" required> I have agreed to the terms & conditions.',
        'contact_form_message': 'Your Message',
        'contact_form_send': 'Send Message',
        'contact_career_btn': 'CAREER / INTERNSHIP',

        // Footer
        'footer_contact_us': ['CONTACT', 'US'],
        'footer_address_title': 'Address',
        'footer_address_content': '45, Saint Georges Street 11324 Port Louis, Mauritius',
        'footer_mail_title': 'Mail Us',
        'footer_mail_content': 'contact@visio.mu',
        'footer_call_title': 'Call Us',
        'footer_hours_title': 'Working Hours',
        'footer_hours_content': 'Monday - Friday : 8:00am - 5:00 pm',
        'footer_projects_title': ['OUR', 'PROJECTS'],
        'footer_all_projects': 'All Projects',
        'footer_architecture': 'Architecture',
        'footer_urban_planning': 'Urban Planning & Master Planning',
        'footer_infrastructure': 'Infrastructure & Mobility',
        'footer_industrial': 'Industrial & Logistics',
        'footer_heritage': 'Heritage & Adaptive Reuse',
        'footer_interior': 'Interior Architecture',
        'footer_landscape': 'Landscape & Public Realm',
        'footer_strategy': 'Strategy & Feasibility',
        'footer_links_title': ['LINKS'],
        'footer_mission_vision_title': ['MISSION', '&', 'VISION'],
        'footer_mission_title': 'MISSION',
        'footer_mission_content': 'To deliver design excellence through innovation, technical rigour, and sustainable thinking—creating spaces and places that add long-term value for clients and communities.',
        'footer_vision_title': 'VISION',
        'footer_vision_content': 'To set the benchmark for architecture, planning, and development in Mauritius, and to be recognised among Africa\'s leading multidisciplinary firms.',
        'footer_rights': '© 2025 Visio. All Rights Reserved.'
    },
    'FR': {
        // Nav
        'nav_home': 'Accueil',
        'nav_africa': 'Afrique',
        'nav_projects': 'Projets',
        'nav_services': 'Services',
        'nav_rise': 'RISE',
        'nav_social': 'Social',
        'nav_about_us': 'À Propos',
        'nav_news': 'Actualités',
        'nav_contact': 'Contact',
        'nav_language_label': 'Langue:',

        // Header
        'contact_subtitle': 'CONTACT',
        'contact_title': 'Prêt à construire quelque chose de grand ? Parlons-en.',
        'contact_description': 'N\'hésitez pas à contacter VISIO pour des demandes de renseignements, des collaborations de projets ou des consultations de conception. Notre équipe est là pour vous guider et vous aider à donner vie à votre vision. <strong>Contactez-nous dès aujourd\'hui—façonnons ensemble des espaces réfléchis et performants.</strong>',

        // Info
        'contact_phone_label': '+ (230) 208 9394',
        'contact_email_label': 'contact@visio.mu',
        'contact_address_label': '45, Rue Saint Georges, 11324, Port Louis, Rép. de Maurice',
        'contact_hours_label': 'Nous sommes ouverts de <strong>08h00 à 17h00 du lundi au vendredi </strong><strong>(hors jours fériés)</strong>.',

        // Form
        'contact_form_name': 'Nom',
        'contact_form_email': 'Adresse E-mail',
        'contact_form_phone': 'Numéro de Téléphone',
        'contact_form_terms': '<input type="checkbox" id="terms-checkbox" required> J\'accepte les conditions générales.',
        'contact_form_message': 'Votre Message',
        'contact_form_send': 'Envoyer le Message',
        'contact_career_btn': 'CARRIÈRE / STAGE',

        // Footer
        'footer_contact_us': ['CONTACTEZ', 'NOUS'],
        'footer_address_title': 'Adresse',
        'footer_address_content': '45, Rue Saint Georges 11324 Port Louis, Maurice',
        'footer_mail_title': 'Écrivez-nous',
        'footer_mail_content': 'contact@visio.mu',
        'footer_call_title': 'Appelez-nous',
        'footer_hours_title': 'Heures de travail',
        'footer_hours_content': 'Lundi - Vendredi : 08h00 - 17h00',
        'footer_projects_title': ['NOS', 'PROJETS'],
        'footer_all_projects': 'Tous les Projets',
        'footer_architecture': 'Architecture',
        'footer_urban_planning': 'Urbanisme et Aménagement urbain',
        'footer_infrastructure': 'Infrastructure et Mobilité',
        'footer_industrial': 'Industrie et Logistique',
        'footer_heritage': 'Patrimoine et Réutilisation adaptée',
        'footer_interior': 'Architecture d\'intérieur',
        'footer_landscape': 'Paysage et Espace public',
        'footer_strategy': 'Stratégie et Faisabilité',
        'footer_links_title': ['LIENS'],
        'footer_mission_vision_title': ['MISSION', '&', 'VISION'],
        'footer_mission_title': 'MISSION',
        'footer_mission_content': 'Offrir l\'excellence en design par l\'innovation, la rigueur technique et une réflexion durable—créer des espaces et des lieux qui apportent une valeur à long terme aux clients et aux communautés.',
        'footer_vision_title': 'VISION',
        'footer_vision_content': 'Devenir la référence en matière d\'architecture, d\'urbanisme et de développement à Maurice, et être reconnu parmi les meilleures agences multidisciplinaires d\'Afrique.',
        'footer_rights': '© 2025 Visio. Tous droits réservés.'
    }
};

function updatePageContent(lang) {
    const dictionary = translations[lang];
    if (!dictionary) return;

    // Update text content for elements with data-i18n
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const translated = dictionary[key];
        if (translated) {
            // Robust check: if the element has a .link-text span (theme structure), update that instead
            const linkTextSpan = el.querySelector('.link-text');
            if (linkTextSpan) {
                linkTextSpan.textContent = translated;
            } else {
                el.innerHTML = translated;
            }
        }
    });

    // Update placeholders
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        if (dictionary[key]) {
            el.placeholder = dictionary[key];
        }
    });

    // Update elementor animated text groups (data-i18n-group)
    document.querySelectorAll('[data-i18n-group]').forEach(el => {
        const key = el.getAttribute('data-i18n-group');
        const words = dictionary[key];
        if (Array.isArray(words)) {
            // Select both potential word holders
            const wordSpans = el.querySelectorAll('.qodef-e-word, .qodef-e-word-holder');
            words.forEach((word, index) => {
                if (wordSpans[index]) {
                    wordSpans[index].textContent = word;
                }
            });
        }
    });
}

// Listen for language changes
window.addEventListener('languageChanged', (e) => {
    updatePageContent(e.detail.language);
});

// Initial load
document.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('currentLanguage') || 'EN';
    updatePageContent(savedLang);
});
